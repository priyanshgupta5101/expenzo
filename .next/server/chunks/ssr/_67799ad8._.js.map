{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///D:/Expenzo/hooks/use-convex-query.js"],"sourcesContent":["import { useQuery, useMutation } from \"convex/react\";\r\nimport { useState, useEffect } from \"react\";\r\nimport { toast } from \"sonner\";\r\n\r\nexport const useConvexQuery = (query, ...args) => {\r\n  const result = useQuery(query, ...args);\r\n  const [data, setData] = useState(undefined);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n\r\n  // Use effect to handle the state changes based on the query result\r\n  useEffect(() => {\r\n    if (result === undefined) {\r\n      setIsLoading(true);\r\n    } else {\r\n      try {\r\n        setData(result);\r\n        setError(null);\r\n      } catch (err) {\r\n        setError(err);\r\n        toast.error(err.message);\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    }\r\n  }, [result]);\r\n\r\n  return {\r\n    data,\r\n    isLoading,\r\n    error,\r\n  };\r\n};\r\n\r\nexport const useConvexMutation = (mutation) => {\r\n  const mutationFn = useMutation(mutation);\r\n  const [data, setData] = useState(undefined);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  const mutate = async (...args) => {\r\n    setIsLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const response = await mutationFn(...args);\r\n      setData(response);\r\n      return response;\r\n    } catch (err) {\r\n      setError(err);\r\n      toast.error(err.message);\r\n      throw err;\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return { mutate, data, isLoading, error };\r\n};\r\n"],"names":[],"mappings":";;;;;;AAAA;AAAA;AACA;AACA;;;;AAEO,MAAM,iBAAiB,CAAC,OAAO,GAAG;IACvC,MAAM,SAAS,IAAA,oKAAQ,EAAC,UAAU;IAClC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IACjC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IAEnC,mEAAmE;IACnE,IAAA,kNAAS,EAAC;QACR,IAAI,WAAW,WAAW;YACxB,aAAa;QACf,OAAO;YACL,IAAI;gBACF,QAAQ;gBACR,SAAS;YACX,EAAE,OAAO,KAAK;gBACZ,SAAS;gBACT,iJAAK,CAAC,KAAK,CAAC,IAAI,OAAO;YACzB,SAAU;gBACR,aAAa;YACf;QACF;IACF,GAAG;QAAC;KAAO;IAEX,OAAO;QACL;QACA;QACA;IACF;AACF;AAEO,MAAM,oBAAoB,CAAC;IAChC,MAAM,aAAa,IAAA,uKAAW,EAAC;IAC/B,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,iNAAQ,EAAC;IACjC,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,iNAAQ,EAAC;IAC3C,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,iNAAQ,EAAC;IAEnC,MAAM,SAAS,OAAO,GAAG;QACvB,aAAa;QACb,SAAS;QAET,IAAI;YACF,MAAM,WAAW,MAAM,cAAc;YACrC,QAAQ;YACR,OAAO;QACT,EAAE,OAAO,KAAK;YACZ,SAAS;YACT,iJAAK,CAAC,KAAK,CAAC,IAAI,OAAO;YACvB,MAAM;QACR,SAAU;YACR,aAAa;QACf;IACF;IAEA,OAAO;QAAE;QAAQ;QAAM;QAAW;IAAM;AAC1C","debugId":null}},
    {"offset": {"line": 77, "column": 0}, "map": {"version":3,"sources":["file:///D:/Expenzo/components/ui/avatar.jsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as AvatarPrimitive from \"@radix-ui/react-avatar\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nfunction Avatar({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (\r\n    <AvatarPrimitive.Root\r\n      data-slot=\"avatar\"\r\n      className={cn(\"relative flex size-8 shrink-0 overflow-hidden rounded-full\", className)}\r\n      {...props} />\r\n  );\r\n}\r\n\r\nfunction AvatarImage({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (\r\n    <AvatarPrimitive.Image\r\n      data-slot=\"avatar-image\"\r\n      className={cn(\"aspect-square size-full\", className)}\r\n      {...props} />\r\n  );\r\n}\r\n\r\nfunction AvatarFallback({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (\r\n    <AvatarPrimitive.Fallback\r\n      data-slot=\"avatar-fallback\"\r\n      className={cn(\r\n        \"bg-muted flex size-full items-center justify-center rounded-full\",\r\n        className\r\n      )}\r\n      {...props} />\r\n  );\r\n}\r\n\r\nexport { Avatar, AvatarImage, AvatarFallback }\r\n"],"names":[],"mappings":";;;;;;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,SAAS,OAAO,EACd,SAAS,EACT,GAAG,OACJ;IACC,qBACE,8OAAC,0KAAoB;QACnB,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,8DAA8D;QAC3E,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACJ;IACC,qBACE,8OAAC,2KAAqB;QACpB,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,2BAA2B;QACxC,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,eAAe,EACtB,SAAS,EACT,GAAG,OACJ;IACC,qBACE,8OAAC,8KAAwB;QACvB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,oEACA;QAED,GAAG,KAAK;;;;;;AAEf","debugId":null}},
    {"offset": {"line": 132, "column": 0}, "map": {"version":3,"sources":["file:///D:/Expenzo/components/ui/card.jsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nfunction Card({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (\r\n    <div\r\n      data-slot=\"card\"\r\n      className={cn(\r\n        \"bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm\",\r\n        className\r\n      )}\r\n      {...props} />\r\n  );\r\n}\r\n\r\nfunction CardHeader({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-header\"\r\n      className={cn(\r\n        \"@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6\",\r\n        className\r\n      )}\r\n      {...props} />\r\n  );\r\n}\r\n\r\nfunction CardTitle({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-title\"\r\n      className={cn(\"leading-none font-semibold\", className)}\r\n      {...props} />\r\n  );\r\n}\r\n\r\nfunction CardDescription({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-description\"\r\n      className={cn(\"text-muted-foreground text-sm\", className)}\r\n      {...props} />\r\n  );\r\n}\r\n\r\nfunction CardAction({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-action\"\r\n      className={cn(\r\n        \"col-start-2 row-span-2 row-start-1 self-start justify-self-end\",\r\n        className\r\n      )}\r\n      {...props} />\r\n  );\r\n}\r\n\r\nfunction CardContent({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (<div data-slot=\"card-content\" className={cn(\"px-6\", className)} {...props} />);\r\n}\r\n\r\nfunction CardFooter({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (\r\n    <div\r\n      data-slot=\"card-footer\"\r\n      className={cn(\"flex items-center px-6 [.border-t]:pt-6\", className)}\r\n      {...props} />\r\n  );\r\n}\r\n\r\nexport {\r\n  Card,\r\n  CardHeader,\r\n  CardFooter,\r\n  CardTitle,\r\n  CardAction,\r\n  CardDescription,\r\n  CardContent,\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,SAAS,KAAK,EACZ,SAAS,EACT,GAAG,OACJ;IACC,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,WAAW,EAClB,SAAS,EACT,GAAG,OACJ;IACC,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,8JACA;QAED,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,UAAU,EACjB,SAAS,EACT,GAAG,OACJ;IACC,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,gBAAgB,EACvB,SAAS,EACT,GAAG,OACJ;IACC,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,WAAW,EAClB,SAAS,EACT,GAAG,OACJ;IACC,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,YAAY,EACnB,SAAS,EACT,GAAG,OACJ;IACC,qBAAQ,8OAAC;QAAI,aAAU;QAAe,WAAW,IAAA,kHAAE,EAAC,QAAQ;QAAa,GAAG,KAAK;;;;;;AACnF;AAEA,SAAS,WAAW,EAClB,SAAS,EACT,GAAG,OACJ;IACC,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAEf","debugId":null}},
    {"offset": {"line": 236, "column": 0}, "map": {"version":3,"sources":["file:///D:/Expenzo/components/ui/input.jsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nfunction Input({\r\n  className,\r\n  type,\r\n  ...props\r\n}) {\r\n  return (\r\n    <input\r\n      type={type}\r\n      data-slot=\"input\"\r\n      className={cn(\r\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\r\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\r\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\r\n        className\r\n      )}\r\n      {...props} />\r\n  );\r\n}\r\n\r\nexport { Input }\r\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAEA,SAAS,MAAM,EACb,SAAS,EACT,IAAI,EACJ,GAAG,OACJ;IACC,qBACE,8OAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,mcACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAEf","debugId":null}},
    {"offset": {"line": 263, "column": 0}, "map": {"version":3,"sources":["file:///D:/Expenzo/components/ui/label.jsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nfunction Label({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (\r\n    <LabelPrimitive.Root\r\n      data-slot=\"label\"\r\n      className={cn(\r\n        \"flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50\",\r\n        className\r\n      )}\r\n      {...props} />\r\n  );\r\n}\r\n\r\nexport { Label }\r\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OACJ;IACC,qBACE,8OAAC,yKAAmB;QAClB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,uNACA;QAED,GAAG,KAAK;;;;;;AAEf","debugId":null}},
    {"offset": {"line": 292, "column": 0}, "map": {"version":3,"sources":["file:///D:/Expenzo/components/ui/textarea.jsx"],"sourcesContent":["import * as React from \"react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nfunction Textarea({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (\r\n    <textarea\r\n      data-slot=\"textarea\"\r\n      className={cn(\r\n        \"border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-transparent px-3 py-2 text-base shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\r\n        className\r\n      )}\r\n      {...props} />\r\n  );\r\n}\r\n\r\nexport { Textarea }\r\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAEA,SAAS,SAAS,EAChB,SAAS,EACT,GAAG,OACJ;IACC,qBACE,8OAAC;QACC,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,ucACA;QAED,GAAG,KAAK;;;;;;AAEf","debugId":null}},
    {"offset": {"line": 318, "column": 0}, "map": {"version":3,"sources":["file:///D:/Expenzo/components/ui/radio-group.jsx"],"sourcesContent":["\"use client\"\r\n\r\nimport * as React from \"react\"\r\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\r\nimport { CircleIcon } from \"lucide-react\"\r\n\r\nimport { cn } from \"@/lib/utils\"\r\n\r\nfunction RadioGroup({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (\r\n    <RadioGroupPrimitive.Root\r\n      data-slot=\"radio-group\"\r\n      className={cn(\"grid gap-3\", className)}\r\n      {...props} />\r\n  );\r\n}\r\n\r\nfunction RadioGroupItem({\r\n  className,\r\n  ...props\r\n}) {\r\n  return (\r\n    <RadioGroupPrimitive.Item\r\n      data-slot=\"radio-group-item\"\r\n      className={cn(\r\n        \"border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50\",\r\n        className\r\n      )}\r\n      {...props}>\r\n      <RadioGroupPrimitive.Indicator\r\n        data-slot=\"radio-group-indicator\"\r\n        className=\"relative flex items-center justify-center\">\r\n        <CircleIcon\r\n          className=\"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2\" />\r\n      </RadioGroupPrimitive.Indicator>\r\n    </RadioGroupPrimitive.Item>\r\n  );\r\n}\r\n\r\nexport { RadioGroup, RadioGroupItem }\r\n"],"names":[],"mappings":";;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,SAAS,WAAW,EAClB,SAAS,EACT,GAAG,OACJ;IACC,qBACE,8OAAC,kLAAwB;QACvB,aAAU;QACV,WAAW,IAAA,kHAAE,EAAC,cAAc;QAC3B,GAAG,KAAK;;;;;;AAEf;AAEA,SAAS,eAAe,EACtB,SAAS,EACT,GAAG,OACJ;IACC,qBACE,8OAAC,kLAAwB;QACvB,aAAU;QACV,WAAW,IAAA,kHAAE,EACX,0XACA;QAED,GAAG,KAAK;kBACT,cAAA,8OAAC,uLAA6B;YAC5B,aAAU;YACV,WAAU;sBACV,cAAA,8OAAC,wNAAU;gBACT,WAAU;;;;;;;;;;;;;;;;AAIpB","debugId":null}},
    {"offset": {"line": 377, "column": 0}, "map": {"version":3,"sources":["file:///D:/Expenzo/app/%28main%29/settlements/%5Btype%5D/%5Bid%5D/components/settlement-form.jsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport * as z from \"zod\";\nimport { api } from \"@/convex/_generated/api\";\nimport { useConvexMutation, useConvexQuery } from \"@/hooks/use-convex-query\";\nimport { Input } from \"@/components/ui/input\";\nimport { Button } from \"@/components/ui/button\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { toast } from \"sonner\";\n\n// Form schema validation\nconst settlementSchema = z.object({\n  amount: z\n    .string()\n    .min(1, \"Amount is required\")\n    .refine((val) => !isNaN(parseFloat(val)) && parseFloat(val) > 0, {\n      message: \"Amount must be a positive number\",\n    }),\n  note: z.string().optional(),\n  paymentType: z.enum([\"youPaid\", \"theyPaid\"]),\n});\n\nexport default function SettlementForm({ entityType, entityData, onSuccess }) {\n  const { data: currentUser } = useConvexQuery(api.users.getCurrentUser);\n  const createSettlement = useConvexMutation(api.settlements.createSettlement);\n\n  // Set up form with validation\n  const {\n    register,\n    handleSubmit,\n    watch,\n    formState: { errors, isSubmitting },\n  } = useForm({\n    resolver: zodResolver(settlementSchema),\n    defaultValues: {\n      amount: \"\",\n      note: \"\",\n      paymentType: \"youPaid\",\n    },\n  });\n\n  // Get selected payment direction\n  const paymentType = watch(\"paymentType\");\n\n  // Single user settlement\n  const handleUserSettlement = async (data) => {\n    const amount = parseFloat(data.amount);\n\n    try {\n      // Determine payer and receiver based on the selected payment type\n      const paidByUserId =\n        data.paymentType === \"youPaid\"\n          ? currentUser._id\n          : entityData.counterpart.userId;\n\n      const receivedByUserId =\n        data.paymentType === \"youPaid\"\n          ? entityData.counterpart.userId\n          : currentUser._id;\n\n      await createSettlement.mutate({\n        amount,\n        note: data.note,\n        paidByUserId,\n        receivedByUserId,\n        // No groupId for user settlements\n      });\n\n      toast.success(\"Settlement recorded successfully!\");\n      if (onSuccess) onSuccess();\n    } catch (error) {\n      toast.error(\"Failed to record settlement: \" + error.message);\n    }\n  };\n\n  // Group settlement\n  const handleGroupSettlement = async (data, selectedUserId) => {\n    if (!selectedUserId) {\n      toast.error(\"Please select a group member to settle with\");\n      return;\n    }\n\n    const amount = parseFloat(data.amount);\n\n    try {\n      // Get the selected user from the group balances\n      const selectedUser = entityData.balances.find(\n        (balance) => balance.userId === selectedUserId\n      );\n\n      if (!selectedUser) {\n        toast.error(\"Selected user not found in group\");\n        return;\n      }\n\n      // Determine payer and receiver based on the selected payment type and balances\n      const paidByUserId =\n        data.paymentType === \"youPaid\" ? currentUser._id : selectedUser.userId;\n\n      const receivedByUserId =\n        data.paymentType === \"youPaid\" ? selectedUser.userId : currentUser._id;\n\n      await createSettlement.mutate({\n        amount,\n        note: data.note,\n        paidByUserId,\n        receivedByUserId,\n        groupId: entityData.group.id,\n      });\n\n      toast.success(\"Settlement recorded successfully!\");\n      if (onSuccess) onSuccess();\n    } catch (error) {\n      toast.error(\"Failed to record settlement: \" + error.message);\n    }\n  };\n\n  // Handle form submission\n  const onSubmit = async (data) => {\n    if (entityType === \"user\") {\n      await handleUserSettlement(data);\n    } else if (entityType === \"group\" && selectedGroupMemberId) {\n      await handleGroupSettlement(data, selectedGroupMemberId);\n    }\n  };\n\n  // For group settlements, we need to select a member\n  const [selectedGroupMemberId, setSelectedGroupMemberId] = useState(null);\n\n  if (!currentUser) return null;\n\n  // Render the form for individual settlement\n  if (entityType === \"user\") {\n    const otherUser = entityData.counterpart;\n    const netBalance = entityData.netBalance;\n\n    return (\n      <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-6\">\n        {/* Balance information */}\n        <div className=\"bg-muted p-4 rounded-lg\">\n          <h3 className=\"font-medium mb-2\">Current balance</h3>\n          {netBalance === 0 ? (\n            <p>You are all settled up with {otherUser.name}</p>\n          ) : netBalance > 0 ? (\n            <div className=\"flex justify-between items-center\">\n              <p>\n                <span className=\"font-medium\">{otherUser.name}</span> owes you\n              </p>\n              <span className=\"text-xl font-bold text-green-600\">\n                ${netBalance.toFixed(2)}\n              </span>\n            </div>\n          ) : (\n            <div className=\"flex justify-between items-center\">\n              <p>\n                You owe <span className=\"font-medium\">{otherUser.name}</span>\n              </p>\n              <span className=\"text-xl font-bold text-red-600\">\n                ${Math.abs(netBalance).toFixed(2)}\n              </span>\n            </div>\n          )}\n        </div>\n\n        {/* Payment direction */}\n        <div className=\"space-y-2\">\n          <Label>Who paid?</Label>\n          <RadioGroup\n            defaultValue=\"youPaid\"\n            {...register(\"paymentType\")}\n            className=\"flex flex-col space-y-2\"\n            onValueChange={(value) => {\n              // This manual approach is needed because RadioGroup doesn't work directly with react-hook-form\n              register(\"paymentType\").onChange({\n                target: { name: \"paymentType\", value },\n              });\n            }}\n          >\n            <div className=\"flex items-center space-x-2 border rounded-md p-3\">\n              <RadioGroupItem value=\"youPaid\" id=\"youPaid\" />\n              <Label htmlFor=\"youPaid\" className=\"flex-grow cursor-pointer\">\n                <div className=\"flex items-center\">\n                  <Avatar className=\"h-6 w-6 mr-2\">\n                    <AvatarImage src={currentUser.imageUrl} />\n                    <AvatarFallback>\n                      {currentUser.name.charAt(0)}\n                    </AvatarFallback>\n                  </Avatar>\n                  <span>You paid {otherUser.name}</span>\n                </div>\n              </Label>\n            </div>\n\n            <div className=\"flex items-center space-x-2 border rounded-md p-3\">\n              <RadioGroupItem value=\"theyPaid\" id=\"theyPaid\" />\n              <Label htmlFor=\"theyPaid\" className=\"flex-grow cursor-pointer\">\n                <div className=\"flex items-center\">\n                  <Avatar className=\"h-6 w-6 mr-2\">\n                    <AvatarImage src={otherUser.imageUrl} />\n                    <AvatarFallback>{otherUser.name.charAt(0)}</AvatarFallback>\n                  </Avatar>\n                  <span>{otherUser.name} paid you</span>\n                </div>\n              </Label>\n            </div>\n          </RadioGroup>\n        </div>\n\n        {/* Amount */}\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"amount\">Amount</Label>\n          <div className=\"relative\">\n            <span className=\"absolute left-3 top-2.5\">$</span>\n            <Input\n              id=\"amount\"\n              placeholder=\"0.00\"\n              type=\"number\"\n              step=\"0.01\"\n              min=\"0.01\"\n              className=\"pl-7\"\n              {...register(\"amount\")}\n            />\n          </div>\n          {errors.amount && (\n            <p className=\"text-sm text-red-500\">{errors.amount.message}</p>\n          )}\n        </div>\n\n        {/* Note */}\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"note\">Note (optional)</Label>\n          <Textarea\n            id=\"note\"\n            placeholder=\"Dinner, rent, etc.\"\n            {...register(\"note\")}\n          />\n        </div>\n\n        <Button type=\"submit\" className=\"w-full\" disabled={isSubmitting}>\n          {isSubmitting ? \"Recording...\" : \"Record settlement\"}\n        </Button>\n      </form>\n    );\n  }\n\n  // Render form for group settlement\n  if (entityType === \"group\") {\n    const groupMembers = entityData.balances;\n\n    return (\n      <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-6\">\n        {/* Select group member */}\n        <div className=\"space-y-2\">\n          <Label>Who are you settling with?</Label>\n          <div className=\"space-y-2\">\n            {groupMembers.map((member) => {\n              const isSelected = selectedGroupMemberId === member.userId;\n              const isOwing = member.netBalance < 0; // negative means they owe you\n              const isOwed = member.netBalance > 0; // positive means you owe them\n\n              return (\n                <div\n                  key={member.userId}\n                  className={`border rounded-md p-3 cursor-pointer transition-colors ${\n                    isSelected\n                      ? \"border-primary bg-primary/5\"\n                      : \"hover:bg-muted/50\"\n                  }`}\n                  onClick={() => setSelectedGroupMemberId(member.userId)}\n                >\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center gap-2\">\n                      <Avatar className=\"h-8 w-8\">\n                        <AvatarImage src={member.imageUrl} />\n                        <AvatarFallback>{member.name.charAt(0)}</AvatarFallback>\n                      </Avatar>\n                      <span className=\"font-medium\">{member.name}</span>\n                    </div>\n                    <div\n                      className={`font-medium ${\n                        isOwing\n                          ? \"text-green-600\"\n                          : isOwed\n                            ? \"text-red-600\"\n                            : \"\"\n                      }`}\n                    >\n                      {isOwing\n                        ? `They owe you $${Math.abs(member.netBalance).toFixed(2)}`\n                        : isOwed\n                          ? `You owe $${Math.abs(member.netBalance).toFixed(2)}`\n                          : \"Settled up\"}\n                    </div>\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n          {!selectedGroupMemberId && (\n            <p className=\"text-sm text-amber-600\">\n              Please select a member to settle with\n            </p>\n          )}\n        </div>\n\n        {selectedGroupMemberId && (\n          <>\n            {/* Payment direction */}\n            <div className=\"space-y-2\">\n              <Label>Who paid?</Label>\n              <RadioGroup\n                defaultValue=\"youPaid\"\n                {...register(\"paymentType\")}\n                className=\"flex flex-col space-y-2\"\n                onValueChange={(value) => {\n                  register(\"paymentType\").onChange({\n                    target: { name: \"paymentType\", value },\n                  });\n                }}\n              >\n                <div className=\"flex items-center space-x-2 border rounded-md p-3\">\n                  <RadioGroupItem value=\"youPaid\" id=\"youPaid\" />\n                  <Label htmlFor=\"youPaid\" className=\"flex-grow cursor-pointer\">\n                    <div className=\"flex items-center\">\n                      <Avatar className=\"h-6 w-6 mr-2\">\n                        <AvatarImage src={currentUser.imageUrl} />\n                        <AvatarFallback>\n                          {currentUser.name.charAt(0)}\n                        </AvatarFallback>\n                      </Avatar>\n                      <span>\n                        You paid{\" \"}\n                        {\n                          groupMembers.find(\n                            (m) => m.userId === selectedGroupMemberId\n                          )?.name\n                        }\n                      </span>\n                    </div>\n                  </Label>\n                </div>\n\n                <div className=\"flex items-center space-x-2 border rounded-md p-3\">\n                  <RadioGroupItem value=\"theyPaid\" id=\"theyPaid\" />\n                  <Label\n                    htmlFor=\"theyPaid\"\n                    className=\"flex-grow cursor-pointer\"\n                  >\n                    <div className=\"flex items-center\">\n                      <Avatar className=\"h-6 w-6 mr-2\">\n                        <AvatarImage\n                          src={\n                            groupMembers.find(\n                              (m) => m.userId === selectedGroupMemberId\n                            )?.imageUrl\n                          }\n                        />\n                        <AvatarFallback>\n                          {groupMembers\n                            .find((m) => m.userId === selectedGroupMemberId)\n                            ?.name.charAt(0)}\n                        </AvatarFallback>\n                      </Avatar>\n                      <span>\n                        {\n                          groupMembers.find(\n                            (m) => m.userId === selectedGroupMemberId\n                          )?.name\n                        }{\" \"}\n                        paid you\n                      </span>\n                    </div>\n                  </Label>\n                </div>\n              </RadioGroup>\n            </div>\n\n            {/* Amount */}\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"amount\">Amount</Label>\n              <div className=\"relative\">\n                <span className=\"absolute left-3 top-2.5\">$</span>\n                <Input\n                  id=\"amount\"\n                  placeholder=\"0.00\"\n                  type=\"number\"\n                  step=\"0.01\"\n                  min=\"0.01\"\n                  className=\"pl-7\"\n                  {...register(\"amount\")}\n                />\n              </div>\n              {errors.amount && (\n                <p className=\"text-sm text-red-500\">{errors.amount.message}</p>\n              )}\n            </div>\n\n            {/* Note */}\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"note\">Note (optional)</Label>\n              <Textarea\n                id=\"note\"\n                placeholder=\"Dinner, rent, etc.\"\n                {...register(\"note\")}\n              />\n            </div>\n          </>\n        )}\n\n        <Button\n          type=\"submit\"\n          className=\"w-full\"\n          disabled={isSubmitting || !selectedGroupMemberId}\n        >\n          {isSubmitting ? \"Recording...\" : \"Record settlement\"}\n        </Button>\n      </form>\n    );\n  }\n\n  return null;\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1257, "column": 0}, "map": {"version":3,"sources":["file:///D:/Expenzo/app/%28main%29/settlements/%5Btype%5D/%5Bid%5D/page.jsx"],"sourcesContent":["\"use client\";\n\nimport { useParams, useRouter } from \"next/navigation\";\nimport { api } from \"@/convex/_generated/api\";\nimport { useConvexQuery } from \"@/hooks/use-convex-query\";\nimport { BarLoader } from \"react-spinners\";\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { ArrowLeft, Users } from \"lucide-react\";\nimport SettlementForm from \"./components/settlement-form\";\n\nexport default function SettlementPage() {\n  const params = useParams();\n  const router = useRouter();\n  const { type, id } = params;\n\n  const { data, isLoading } = useConvexQuery(\n    api.settlements.getSettlementData,\n    {\n      entityType: type,\n      entityId: id,\n    }\n  );\n\n  if (isLoading) {\n    return (\n      <div className=\"container mx-auto py-12\">\n        <BarLoader width={\"100%\"} color=\"#36d7b7\" />\n      </div>\n    );\n  }\n\n  // Function to handle after successful settlement creation\n  const handleSuccess = () => {\n    // Redirect based on type\n    if (type === \"user\") {\n      router.push(`/person/${id}`);\n    } else if (type === \"group\") {\n      router.push(`/groups/${id}`);\n    }\n  };\n\n  return (\n    <div className=\"container mx-auto py-6 max-w-lg\">\n      <Button\n        variant=\"outline\"\n        size=\"sm\"\n        className=\"mb-4\"\n        onClick={() => router.back()}\n      >\n        <ArrowLeft className=\"h-4 w-4 mr-2\" />\n        Back\n      </Button>\n\n      <div className=\"mb-6\">\n        <h1 className=\"text-5xl gradient-title\">Record a settlement</h1>\n        <p className=\"text-muted-foreground mt-1\">\n          {type === \"user\"\n            ? `Settling up with ${data?.counterpart?.name}`\n            : `Settling up in ${data?.group?.name}`}\n        </p>\n      </div>\n\n      <Card>\n        <CardHeader>\n          <div className=\"flex items-center gap-3\">\n            {type === \"user\" ? (\n              <Avatar className=\"h-10 w-10\">\n                <AvatarImage src={data?.counterpart?.imageUrl} />\n                <AvatarFallback>\n                  {data?.counterpart?.name?.charAt(0) || \"?\"}\n                </AvatarFallback>\n              </Avatar>\n            ) : (\n              <div className=\"bg-primary/10 p-2 rounded-md\">\n                <Users className=\"h-6 w-6 text-primary\" />\n              </div>\n            )}\n            <CardTitle>\n              {type === \"user\" ? data?.counterpart?.name : data?.group?.name}\n            </CardTitle>\n          </div>\n        </CardHeader>\n        <CardContent>\n          <SettlementForm\n            entityType={type}\n            entityData={data}\n            onSuccess={handleSuccess}\n          />\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAVA;;;;;;;;;;;AAYe,SAAS;IACtB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,SAAS,IAAA,+IAAS;IACxB,MAAM,EAAE,IAAI,EAAE,EAAE,EAAE,GAAG;IAErB,MAAM,EAAE,IAAI,EAAE,SAAS,EAAE,GAAG,IAAA,iJAAc,EACxC,kIAAG,CAAC,WAAW,CAAC,iBAAiB,EACjC;QACE,YAAY;QACZ,UAAU;IACZ;IAGF,IAAI,WAAW;QACb,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC,0MAAS;gBAAC,OAAO;gBAAQ,OAAM;;;;;;;;;;;IAGtC;IAEA,0DAA0D;IAC1D,MAAM,gBAAgB;QACpB,yBAAyB;QACzB,IAAI,SAAS,QAAQ;YACnB,OAAO,IAAI,CAAC,CAAC,QAAQ,EAAE,IAAI;QAC7B,OAAO,IAAI,SAAS,SAAS;YAC3B,OAAO,IAAI,CAAC,CAAC,QAAQ,EAAE,IAAI;QAC7B;IACF;IAEA,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,qIAAM;gBACL,SAAQ;gBACR,MAAK;gBACL,WAAU;gBACV,SAAS,IAAM,OAAO,IAAI;;kCAE1B,8OAAC,6NAAS;wBAAC,WAAU;;;;;;oBAAiB;;;;;;;0BAIxC,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAG,WAAU;kCAA0B;;;;;;kCACxC,8OAAC;wBAAE,WAAU;kCACV,SAAS,SACN,CAAC,iBAAiB,EAAE,MAAM,aAAa,MAAM,GAC7C,CAAC,eAAe,EAAE,MAAM,OAAO,MAAM;;;;;;;;;;;;0BAI7C,8OAAC,iIAAI;;kCACH,8OAAC,uIAAU;kCACT,cAAA,8OAAC;4BAAI,WAAU;;gCACZ,SAAS,uBACR,8OAAC,qIAAM;oCAAC,WAAU;;sDAChB,8OAAC,0IAAW;4CAAC,KAAK,MAAM,aAAa;;;;;;sDACrC,8OAAC,6IAAc;sDACZ,MAAM,aAAa,MAAM,OAAO,MAAM;;;;;;;;;;;yDAI3C,8OAAC;oCAAI,WAAU;8CACb,cAAA,8OAAC,6MAAK;wCAAC,WAAU;;;;;;;;;;;8CAGrB,8OAAC,sIAAS;8CACP,SAAS,SAAS,MAAM,aAAa,OAAO,MAAM,OAAO;;;;;;;;;;;;;;;;;kCAIhE,8OAAC,wIAAW;kCACV,cAAA,8OAAC,oMAAc;4BACb,YAAY;4BACZ,YAAY;4BACZ,WAAW;;;;;;;;;;;;;;;;;;;;;;;AAMvB","debugId":null}}]
}