{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 14, "column": 0}, "map": {"version":3,"sources":["file:///D:/Expenzo/node_modules/%40clerk/nextjs/dist/esm/app-router/keyless-actions.js"],"sourcesContent":["\"use server\";\r\nimport { cookies, headers } from \"next/headers\";\r\nimport { redirect, RedirectType } from \"next/navigation\";\r\nimport { errorThrower } from \"../server/errorThrower\";\r\nimport { detectClerkMiddleware } from \"../server/headers-utils\";\r\nimport { getKeylessCookieName, getKeylessCookieValue } from \"../server/keyless\";\r\nimport { canUseKeyless } from \"../utils/feature-flags\";\r\nconst keylessCookieConfig = {\r\n  secure: false,\r\n  httpOnly: false,\r\n  sameSite: \"lax\"\r\n};\r\nasync function syncKeylessConfigAction(args) {\r\n  const { claimUrl, publishableKey, secretKey, returnUrl } = args;\r\n  const cookieStore = await cookies();\r\n  const request = new Request(\"https://placeholder.com\", { headers: await headers() });\r\n  const keyless = await getKeylessCookieValue((name) => {\r\n    var _a;\r\n    return (_a = cookieStore.get(name)) == null ? void 0 : _a.value;\r\n  });\r\n  const pksMatch = (keyless == null ? void 0 : keyless.publishableKey) === publishableKey;\r\n  const sksMatch = (keyless == null ? void 0 : keyless.secretKey) === secretKey;\r\n  if (pksMatch && sksMatch) {\r\n    return;\r\n  }\r\n  cookieStore.set(\r\n    await getKeylessCookieName(),\r\n    JSON.stringify({ claimUrl, publishableKey, secretKey }),\r\n    keylessCookieConfig\r\n  );\r\n  if (detectClerkMiddleware(request)) {\r\n    redirect(`/clerk-sync-keyless?returnUrl=${returnUrl}`, RedirectType.replace);\r\n    return;\r\n  }\r\n  return;\r\n}\r\nasync function createOrReadKeylessAction() {\r\n  if (!canUseKeyless) {\r\n    return null;\r\n  }\r\n  const result = await import(\"../server/keyless-node.js\").then((m) => m.createOrReadKeyless()).catch(() => null);\r\n  if (!result) {\r\n    errorThrower.throwMissingPublishableKeyError();\r\n    return null;\r\n  }\r\n  const { clerkDevelopmentCache, createKeylessModeMessage } = await import(\"../server/keyless-log-cache.js\");\r\n  clerkDevelopmentCache == null ? void 0 : clerkDevelopmentCache.log({\r\n    cacheKey: result.publishableKey,\r\n    msg: createKeylessModeMessage(result)\r\n  });\r\n  const { claimUrl, publishableKey, secretKey, apiKeysUrl } = result;\r\n  void (await cookies()).set(\r\n    await getKeylessCookieName(),\r\n    JSON.stringify({ claimUrl, publishableKey, secretKey }),\r\n    keylessCookieConfig\r\n  );\r\n  return {\r\n    claimUrl,\r\n    publishableKey,\r\n    apiKeysUrl\r\n  };\r\n}\r\nasync function deleteKeylessAction() {\r\n  if (!canUseKeyless) {\r\n    return;\r\n  }\r\n  await import(\"../server/keyless-node.js\").then((m) => m.removeKeyless()).catch(() => {\r\n  });\r\n  return;\r\n}\r\nasync function detectKeylessEnvDriftAction() {\r\n  if (!canUseKeyless) {\r\n    return;\r\n  }\r\n  try {\r\n    const { detectKeylessEnvDrift } = await import(\"../server/keyless-telemetry.js\");\r\n    await detectKeylessEnvDrift();\r\n  } catch {\r\n  }\r\n}\r\nexport {\r\n  createOrReadKeylessAction,\r\n  deleteKeylessAction,\r\n  detectKeylessEnvDriftAction,\r\n  syncKeylessConfigAction\r\n};\r\n"],"names":[],"mappings":";;;;;;;IAiFE,4BAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA","debugId":null}},
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file:///D:/Expenzo/node_modules/%40clerk/nextjs/dist/esm/app-router/keyless-actions.js"],"sourcesContent":["\"use server\";\r\nimport { cookies, headers } from \"next/headers\";\r\nimport { redirect, RedirectType } from \"next/navigation\";\r\nimport { errorThrower } from \"../server/errorThrower\";\r\nimport { detectClerkMiddleware } from \"../server/headers-utils\";\r\nimport { getKeylessCookieName, getKeylessCookieValue } from \"../server/keyless\";\r\nimport { canUseKeyless } from \"../utils/feature-flags\";\r\nconst keylessCookieConfig = {\r\n  secure: false,\r\n  httpOnly: false,\r\n  sameSite: \"lax\"\r\n};\r\nasync function syncKeylessConfigAction(args) {\r\n  const { claimUrl, publishableKey, secretKey, returnUrl } = args;\r\n  const cookieStore = await cookies();\r\n  const request = new Request(\"https://placeholder.com\", { headers: await headers() });\r\n  const keyless = await getKeylessCookieValue((name) => {\r\n    var _a;\r\n    return (_a = cookieStore.get(name)) == null ? void 0 : _a.value;\r\n  });\r\n  const pksMatch = (keyless == null ? void 0 : keyless.publishableKey) === publishableKey;\r\n  const sksMatch = (keyless == null ? void 0 : keyless.secretKey) === secretKey;\r\n  if (pksMatch && sksMatch) {\r\n    return;\r\n  }\r\n  cookieStore.set(\r\n    await getKeylessCookieName(),\r\n    JSON.stringify({ claimUrl, publishableKey, secretKey }),\r\n    keylessCookieConfig\r\n  );\r\n  if (detectClerkMiddleware(request)) {\r\n    redirect(`/clerk-sync-keyless?returnUrl=${returnUrl}`, RedirectType.replace);\r\n    return;\r\n  }\r\n  return;\r\n}\r\nasync function createOrReadKeylessAction() {\r\n  if (!canUseKeyless) {\r\n    return null;\r\n  }\r\n  const result = await import(\"../server/keyless-node.js\").then((m) => m.createOrReadKeyless()).catch(() => null);\r\n  if (!result) {\r\n    errorThrower.throwMissingPublishableKeyError();\r\n    return null;\r\n  }\r\n  const { clerkDevelopmentCache, createKeylessModeMessage } = await import(\"../server/keyless-log-cache.js\");\r\n  clerkDevelopmentCache == null ? void 0 : clerkDevelopmentCache.log({\r\n    cacheKey: result.publishableKey,\r\n    msg: createKeylessModeMessage(result)\r\n  });\r\n  const { claimUrl, publishableKey, secretKey, apiKeysUrl } = result;\r\n  void (await cookies()).set(\r\n    await getKeylessCookieName(),\r\n    JSON.stringify({ claimUrl, publishableKey, secretKey }),\r\n    keylessCookieConfig\r\n  );\r\n  return {\r\n    claimUrl,\r\n    publishableKey,\r\n    apiKeysUrl\r\n  };\r\n}\r\nasync function deleteKeylessAction() {\r\n  if (!canUseKeyless) {\r\n    return;\r\n  }\r\n  await import(\"../server/keyless-node.js\").then((m) => m.removeKeyless()).catch(() => {\r\n  });\r\n  return;\r\n}\r\nasync function detectKeylessEnvDriftAction() {\r\n  if (!canUseKeyless) {\r\n    return;\r\n  }\r\n  try {\r\n    const { detectKeylessEnvDrift } = await import(\"../server/keyless-telemetry.js\");\r\n    await detectKeylessEnvDrift();\r\n  } catch {\r\n  }\r\n}\r\nexport {\r\n  createOrReadKeylessAction,\r\n  deleteKeylessAction,\r\n  detectKeylessEnvDriftAction,\r\n  syncKeylessConfigAction\r\n};\r\n"],"names":[],"mappings":";;;;;;;IAkFE,sBAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA","debugId":null}},
    {"offset": {"line": 38, "column": 0}, "map": {"version":3,"sources":["file:///D:/Expenzo/node_modules/%40clerk/nextjs/dist/esm/app-router/keyless-actions.js"],"sourcesContent":["\"use server\";\r\nimport { cookies, headers } from \"next/headers\";\r\nimport { redirect, RedirectType } from \"next/navigation\";\r\nimport { errorThrower } from \"../server/errorThrower\";\r\nimport { detectClerkMiddleware } from \"../server/headers-utils\";\r\nimport { getKeylessCookieName, getKeylessCookieValue } from \"../server/keyless\";\r\nimport { canUseKeyless } from \"../utils/feature-flags\";\r\nconst keylessCookieConfig = {\r\n  secure: false,\r\n  httpOnly: false,\r\n  sameSite: \"lax\"\r\n};\r\nasync function syncKeylessConfigAction(args) {\r\n  const { claimUrl, publishableKey, secretKey, returnUrl } = args;\r\n  const cookieStore = await cookies();\r\n  const request = new Request(\"https://placeholder.com\", { headers: await headers() });\r\n  const keyless = await getKeylessCookieValue((name) => {\r\n    var _a;\r\n    return (_a = cookieStore.get(name)) == null ? void 0 : _a.value;\r\n  });\r\n  const pksMatch = (keyless == null ? void 0 : keyless.publishableKey) === publishableKey;\r\n  const sksMatch = (keyless == null ? void 0 : keyless.secretKey) === secretKey;\r\n  if (pksMatch && sksMatch) {\r\n    return;\r\n  }\r\n  cookieStore.set(\r\n    await getKeylessCookieName(),\r\n    JSON.stringify({ claimUrl, publishableKey, secretKey }),\r\n    keylessCookieConfig\r\n  );\r\n  if (detectClerkMiddleware(request)) {\r\n    redirect(`/clerk-sync-keyless?returnUrl=${returnUrl}`, RedirectType.replace);\r\n    return;\r\n  }\r\n  return;\r\n}\r\nasync function createOrReadKeylessAction() {\r\n  if (!canUseKeyless) {\r\n    return null;\r\n  }\r\n  const result = await import(\"../server/keyless-node.js\").then((m) => m.createOrReadKeyless()).catch(() => null);\r\n  if (!result) {\r\n    errorThrower.throwMissingPublishableKeyError();\r\n    return null;\r\n  }\r\n  const { clerkDevelopmentCache, createKeylessModeMessage } = await import(\"../server/keyless-log-cache.js\");\r\n  clerkDevelopmentCache == null ? void 0 : clerkDevelopmentCache.log({\r\n    cacheKey: result.publishableKey,\r\n    msg: createKeylessModeMessage(result)\r\n  });\r\n  const { claimUrl, publishableKey, secretKey, apiKeysUrl } = result;\r\n  void (await cookies()).set(\r\n    await getKeylessCookieName(),\r\n    JSON.stringify({ claimUrl, publishableKey, secretKey }),\r\n    keylessCookieConfig\r\n  );\r\n  return {\r\n    claimUrl,\r\n    publishableKey,\r\n    apiKeysUrl\r\n  };\r\n}\r\nasync function deleteKeylessAction() {\r\n  if (!canUseKeyless) {\r\n    return;\r\n  }\r\n  await import(\"../server/keyless-node.js\").then((m) => m.removeKeyless()).catch(() => {\r\n  });\r\n  return;\r\n}\r\nasync function detectKeylessEnvDriftAction() {\r\n  if (!canUseKeyless) {\r\n    return;\r\n  }\r\n  try {\r\n    const { detectKeylessEnvDrift } = await import(\"../server/keyless-telemetry.js\");\r\n    await detectKeylessEnvDrift();\r\n  } catch {\r\n  }\r\n}\r\nexport {\r\n  createOrReadKeylessAction,\r\n  deleteKeylessAction,\r\n  detectKeylessEnvDriftAction,\r\n  syncKeylessConfigAction\r\n};\r\n"],"names":[],"mappings":";;;;;;;IAoFE,0BAAA,WAAA,GAAA,IAAA,kPAAA,EAAA,8CAAA,uOAAA,EAAA,KAAA,GAAA,6OAAA,EAAA","debugId":null}}]
}